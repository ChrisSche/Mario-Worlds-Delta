<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_luigi_big</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>obj_playerparent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///It's Luigi, the king of second bananas!

//Inherit event from obj_playerparent
event_inherited();

//Jump Strength
jumpstrength = 2.774;
jumpstrength_spin = 2.587;

//Acceleration
acc = 0.048;

//Acceleration (when turning)
acc_turn = 0.16;

//Deceleration
dec = 0.03;

//Gravity
grav = 0.25;

//Gravity (when jumping)
grav_alt = 0.03;

//In water acceleration
acc_swim = 0.025;

//In water acceleration (when turning)
acc_turn_swim = 0.05;

//In water deceleration
dec_swim = 0.025;

//Gravity (Underwater)
grav_swim = 0.03;

//Minimum horizontal speed
hspeed_walk = 1.25;

//Maximum horizontal speed
hspeed_run = 2.5;

//Maximum horizontal speed (Full Meter)
hspeed_run_full = 3; 

//Maximum falling speed
vspeedmax = 3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Manage Luigi's animation

//Check if Luigi is on a slippery surface
if (collision_rectangle(bbox_left, bbox_bottom-1, bbox_right, bbox_bottom, obj_iceparent, 1, 0))
    inice = true;
else
    inice = false;

//If Luigi is crouched down
if (crouch == true) {

    //Set up the crouch sprite
    sprite_index = player_crouch();
    
    //Do not animate
    image_speed = 0;
    
    //If Luigi is not holding anything
    if (holding == 0)
        image_index = 0;
    
    //Otherwise, if Luigi is holding something
    else {
    
        //You can set up multiple holding states if you want
        if (holding == 1)
            image_index = 1;
    }
    
    //Cancel turning
    turnnow = 0;
    
    //Set up the mask
    mask_index = spr_mask_player;

    //Set up the cape state
    if (state == statetype.idle) {
    
        with (mycape) {
        
            //Set cape position and state
            state = capestate.cape_idle;
            
            //If Luigi is not riding a Yoshi
            if (global.mount == 0) {
            
                yy = 1;
                depth = -4;
            }
                
            //Otherwise, if Luigi is riding a yoshi
            else {
            
                yy = 3;
                depth = -6;
            }
        }
    }
    else if (state == statetype.walk) {
    
        with (mycape) {
        
            state = capestate.cape_walk;
            depth = -4;
            yy = 1
        }
    }
    else if (state == statetype.jump) {
    
        //With the cape
        with (mycape) {
        
            //Set position
            yy = 1;
        
            //If moving up
            if (other.vspeed &lt; 0) {
            
                //Set state
                state = capestate.cape_jump_up;
                
                //Set depth
                if (global.mount == 1)
                    depth = -6;
                else
                    depth = -4;
            }
            else {
            
                state = capestate.cape_jump_down;
                depth = -4;
            }
        }
    }
}

//Otherwise, if Luigi is not longer crouched down
else if (crouch == false) {

    //If Luigi is not holding anything
    if (holding == 0) 
    || (holding == 99) {
    
        //If Luigi is not sliding down a slope
        if (sliding == false) {
        
            //If Luigi is not kicking anything
            if (kicking == false) {
            
                //If Luigi is not moving
                if (state == statetype.idle) {
                
                    //Set cape state
                    with (mycape) {
                    
                        //Set cape position and state
                        state = capestate.cape_idle;
                        yy = 0;
                        
                        //If Luigi is not riding a Yoshi
                        if (global.mount == 0)
                            depth = -4;
                            
                        //Otherwise, if Luigi is riding a yoshi
                        else
                            depth = -6;
                    }
                
                    //If Luigi is firing up a projectile
                    if (firing &gt; 0)
                    &amp;&amp; (global.powerup == cs_pow_fire) {
                    
                        //Set the sprite
                        sprite_index = player_shoot();
                        
                        //Do not animate
                        image_speed = 0;
                        image_index = 0;
                        
                        //Decrement firing
                        firing--;
                    }
                    
                    //Otherwise, if Luigi is not firing up a projectile
                    else {
                    
                        //Set the sprite
                        sprite_index = player_idle();
                        
                        //Do not animate
                        image_speed = 0;
                        
                        //But set the appropiate frame
                        if (keyboard_check(global.key_u))
                            image_index = 1;
                        else
                            image_index = 0;
                    }
                }
                
                //Otherwise, if Luigi is walking
                else if (state == statetype.walk) {
                
                    //Set cape state
                    with (mycape) {
                    
                        state = capestate.cape_walk;
                        depth = -4;
                        yy = 0;
                    }
                
                    //Before setting the walk sprite, check if Luigi is moving in the opposite direction
                    if (((hspeed &gt; 0.1) &amp;&amp; (keyboard_check(global.key_l)) &amp;&amp; (xscale == -1)) || ((hspeed &lt; -0.1) &amp;&amp; (keyboard_check(global.key_r)) &amp;&amp; (xscale == 1)))
                    &amp;&amp; (swimming == false)
                    &amp;&amp; (!inice) {
                    
                        //Set the sprite
                        sprite_index = player_skid();
                        
                        //Do not animate
                        image_speed = 0;
                        image_index = 0;             
                    }
                    
                    //Otherwise
                    else {
                        
                        //Animate
                        image_speed = (0.065*(inice*4))+abs(hspeed)/7.5;
                        
                        //Set up the sprite
                        if (run == true)
                            sprite_index = player_run();
                        else
                            sprite_index = player_walk();
                    }
                }
                
                //Otherwise, if Luigi is jumping
                else if (state == statetype.jump) {
                
                    //If Luigi is not swimming
                    if (swimming == false) {
                    
                        //If Luigi is doing a spinjump
                        if (jumpstyle == true) {
                        
                            //Set cape state
                            with (mycape) {
                            
                                //If moving up
                                if (other.vspeed &lt; 0) {
                                
                                    if (global.mount == 1)
                                        state = capestate.cape_jump_up;
                                    else
                                        state = capestate.cape_spin_up;
                                }
                                else {
                                
                                    if (global.mount == 1)
                                        state = capestate.cape_jump_down;
                                    else
                                        state = capestate.cape_spin_down;
                                }
                            
                                //Set the depth first
                                if (image_index &gt; 2.99)
                                    depth = -6;
                                else
                                    depth = -4;                                
                            }
                        
                            //Set the sprite
                            sprite_index = player_spin();
                            
                            //Animate
                            image_speed = 0.5;
                        }
                        
                        //Otherwise, if Luigi is not doing a spinjump
                        else if (jumpstyle == false) {
                        
                            //With the cape
                            with (mycape) {
                            
                                //Set position
                                yy = 0;
                            
                                //If moving up
                                if (other.vspeed &lt; 0) {
                                
                                    //Set depth
                                    if (global.mount == 1)
                                        depth = -6;
                                    else
                                        depth = -4;
                                    
                                    //Set state
                                    if (other.flying &gt; 0)
                                        state = capestate.cape_walk;
                                    else
                                        state = capestate.cape_jump_up;
                                }
                                else {
                                
                                    state = capestate.cape_jump_down;
                                    depth = -4;
                                }                                    
                            }
                            
                            //If Luigi is firing a projectile
                            if (firing &gt; 0) {
                            
                                //Set the sprite
                                sprite_index = player_swim();
                                
                                //Do not animate
                                image_speed = 0;
                                
                                //Decrement firing
                                firing--;
                                
                                //Set up the frame
                                if (firing &lt; 3)
                                    image_index = 2;
                                else if (firing &gt;= 3) &amp;&amp; (firing &lt; 6)
                                    image_index = 1;
                                else if (firing &gt;= 6) &amp;&amp; (firing &lt; 10)
                                    image_index = 0;
                            }
                            
                            //Otherwise, if Luigi is not firing a projectile
                            else {
                        
                                //If Luigi is running
                                if (run == true) {
                                
                                    //Set the sprite
                                    sprite_index = player_runjump();
                                    
                                    //Do not animate
                                    image_speed = 0;
                                    image_index = 0;
                                }
                                
                                //Otherwise, if Luigi is not running
                                else if (run == false) {

                                    //Do not animate
                                    image_speed = 0.25;
                                    
                                    //But set the appropiate frame
                                    if (vspeed &lt; 0)
                                        sprite_index = player_jump();
                                    else
                                        sprite_index = player_fall();
                                }
                            }
                        }
                    }
                    
                    //Otherwise, if Luigi is swimming
                    else if (swimming == true) {
                    
                        //With the cape
                        with (mycape) {
                        
                            //Set depth
                            depth = -4;
                            yy = 0;
                        
                            //If moving up
                            if (other.vspeed &lt; 0)
                                state = capestate.cape_jump_up;
                            else
                                state = capestate.cape_jump_down;                                    
                        }
                        
                        //Set the sprite
                        sprite_index = player_swim();
                        
                        //If Luigi is firing a projectile
                        if (firing &gt; 0) {
                            
                            //Do not animate
                            image_speed = 0;
                            
                            //Decrement firing
                            firing--;
                            
                            //Set up the frame
                            if (firing &lt; 3)
                                image_index = 2;
                            else if (firing &gt;= 3) &amp;&amp; (firing &lt; 6)
                                image_index = 1;
                            else if (firing &gt;= 6) &amp;&amp; (firing &lt; 10)
                                image_index = 0;
                        }
                        
                        //Otherwise
                        else {
                            
                            //If moving up, animate
                            if (vspeed &lt; 0)
                                image_speed = 0.15;
                                
                            //Otherwise, do not animate
                            else {
                            
                                image_speed = 0;
                                image_index = 0;
                            }
                        }
                    }
                }
                
                //Otherwise, if Luigi is climbing
                else if (state == statetype.climb) {
                
                    //Set the cape sprite
                    with (mycape) {
                    
                        //Set depth
                        depth = -6;
                        yy = 0;
                        
                        //Set cape
                        state = capestate.cape_climb;
                    }
                
                    //Set the sprite
                    sprite_index = player_climb();
                    
                    //If moving
                    if (speed &gt; 0)
                        image_speed = 0.15;
                    
                    //Otherwise, if not moving
                    else {
                    
                        image_speed = 0;
                        image_index = 0;
                    }
                }
            }
            
            //Otherwise, if the player is kicking something
            else if (kicking == true) {
            
                //Set the sprite
                sprite_index = player_kick();
                
                //Do not animate
                image_speed = 0;
                image_index = 0;
                
                //Set up the cape state
                if (state == statetype.idle) {
                
                    with (mycape) {
                    
                        state = capestate.cape_idle;
                        depth = -4;
                        yy = 0;
                    }
                }
                else if (state == statetype.walk) {
                
                    with (mycape) {
                    
                        state = capestate.cape_walk;
                        depth = -4;
                        yy = 0;
                    }
                }
                else if (state == statetype.jump) {
                
                    //With the cape
                    with (mycape) {
                    
                        //Set depth
                        depth = -4;
                        yy = 0;
                    
                        //If moving up
                        if (other.vspeed &lt; 0)
                            state = capestate.cape_jump_up;
                        else
                            state = capestate.cape_jump_down;
                    }
                }
            }
        }
        
        //Otherwise, if the player is sliding down a slope
        else if (sliding == true) {
        
            //Set the sprite
            sprite_index = player_slide();
            
            //Do not animate
            image_speed = 0;
            image_index = 0;
                    
            //Set up the cape state
            if (state == statetype.idle) {
            
                with (mycape) {
                
                    state = capestate.cape_idle;
                    depth = -4;
                    yy = 2;
                }
            }
            else if (state == statetype.walk) {
            
                with (mycape) {
                
                    state = capestate.cape_walk;
                    depth = -4;
                    yy = 2;
                }
            }
            else if (state == statetype.jump) {
            
                //With the cape
                with (mycape) {
                
                    //Set depth
                    depth = -4;
                    yy = 2;
                
                    //If moving up
                    if (other.vspeed &lt; 0)
                        state = capestate.cape_jump_up;
                    else
                        state = capestate.cape_jump_down;
                }
            }
        }
    }
    
    //Otherwise, if the player is holding something
    else if (holding == 1) {
    
        //If Luigi is turning around
        if (turnnow == true) {
        
            //Set the sprite
            sprite_index = player_spin();
            
            //Do not animate
            image_speed = 0;
            image_index = 1;
        }
    
        //Otherwise, if Luigi is not turning around
        else {
        
            //If Luigi is not moving
            if (state == statetype.idle) {
            
                //Set cape state
                with (mycape) {
                
                    state = capestate.cape_idle;
                    depth = -4;
                    yy = 0;
                }
            
                //Set the sprite
                sprite_index = player_hold();
                
                //Do not animate
                image_speed = 0;
                
                //But set the appropiate frame
                if (keyboard_check(global.key_u))
                    image_index = 1;
                else
                    image_index = 0;
            }
            
            //Otherwise, if Luigi is walking
            else if (state == statetype.walk) {
            
                //Set cape state
                with (mycape) {
                
                    state = capestate.cape_walk;
                    depth = -4;
                    yy = 0;
                }
            
                //Set the sprite
                sprite_index = player_hold2();
                            
                //Animate
                image_speed = (0.065*(inice*4))+abs(hspeed)/7.5;                       
            }
            
            //Otherwise, if Luigi is jumping
            else if (state == statetype.jump) {
            
                //If Luigi is not swimming
                if (swimming == false) {
                
                    //If Luigi is doing a spinjump
                    if (jumpstyle == true) {
                                                                
                        //Set cape state
                        with (mycape) {
                        
                            //Set y position
                            yy = 0;
                        
                            //If moving up
                            if (other.vspeed &lt; 0)
                                state = capestate.cape_spin_up;
                            else
                                state = capestate.cape_spin_down;
                        
                            //Set the depth first
                            if (image_index &gt; 2.99)
                                depth = -6;
                            else
                                depth = -4;                                
                        }
                    
                        //Set the sprite
                        sprite_index = player_spin();
                        
                        //Animate
                        image_speed = 0.5;
                    }
                    
                    //Otherwise, if Luigi is not doing a spinjump
                    else if (jumpstyle == false) {
                    
                        //With the cape
                        with (mycape) {
                        
                            //Set depth
                            depth = -4;
                            yy = 0;
                        
                            //Set state
                            if (other.vspeed &lt; 0)
                                state = capestate.cape_jump_up;
                            else
                                state = capestate.cape_jump_down;
                        }
                    
                        //Set the sprite
                        sprite_index = player_hold3();
                        
                        //Animate
                        image_speed = 0.25;
                    }
                }
                
                //Otherwise, if the player is swimming
                else if (swimming == true) {
                
                    //With the cape
                    with (mycape) {
                    
                        //Set depth
                        depth = -4;
                        yy = 0;
                    
                        //If moving up
                        if (other.vspeed &lt; 0)
                            state = capestate.cape_jump_up;
                        else
                            state = capestate.cape_jump_down;
                    }
                
                    //Set the sprite
                    sprite_index = player_swim2();
                    
                    //If moving up
                    if ((vspeed &lt; 0) &amp;&amp; (dive == 0))
                        image_speed = 0.15;
                        
                    //Otherwise, if moving down while holding
                    else if ((vspeed &gt; 0) &amp;&amp; (dive == 1))
                        image_speed = 0.15;
                    
                    //Otherwise
                    else {
                    
                        //Do not animate
                        image_speed = 0;
                        image_index = 0;
                    }
                }
            }
        }
    }
    
    //Set up the mask
    if (global.powerup &gt; cs_pow_small)
        mask_index = spr_mask_player_big;
    else
        mask_index = spr_mask_player;
}

//Force end firing animation if walking
if (firing &gt; 0)
&amp;&amp; (state == statetype.walk)
    firing = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Manage physics

//If Luigi is riding a yoshi
if (global.mount == 1) {    

    //Jump Strength
    jumpstrength = 3.4675;
    jumpstrength_spin = 3.23375;
    
    //Acceleration
    acc = 0.06;
    
    //Acceleration (when turning)
    acc_turn = 0.2;
    
    //Deceleration
    dec = 0.0375;
    
    //Gravity
    grav = 0.3625;
    
    //Gravity (when jumping)
    grav_alt = 0.0625;
    
    //Minimum horizontal speed
    hspeed_walk = 1.3;
    
    //Maximum horizontal speed
    hspeed_run = 2.7;
    
    //Maximum horizontal speed (Full Meter)
    hspeed_run_full = 3;
    
    //Max falling speed
    vspeedmax = 4;
}

//Otherwise, if Luigi is not riding a yoshi
else {

    //Jump Strength
    jumpstrength = 3.6675;
    jumpstrength_spin = 3.23375;
    
    //Acceleration
    acc = 0.07;
    
    //Acceleration (when turning)
    acc_turn = 0.17;
    
    //Deceleration
    dec = 0.07;
            
    //Gravity
    grav = 0.3625;
    
    //Gravity (when jumping)
    grav_alt = 0.0625;            
    
    //Minimum horizontal speed
    hspeed_walk = 1.25;
    
    //Maximum horizontal speed
    hspeed_run = 2.5;
    
    //Maximum horizontal speed (Full Meter)
    hspeed_run_full = 3;
    
    //Maximum falling speed
    vspeedmax = 3;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Reset animations

//If the player is moving
if (speed &gt; 0) {
    
    //If the player is climbing
    if (sprite_index == player_climb())
        image_index = 1;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
